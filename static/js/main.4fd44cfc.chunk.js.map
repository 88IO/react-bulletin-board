{"version":3,"sources":["containers/Root.js","components/Root.jsx","components/ThreadForm.jsx","components/ThreadCard.jsx","components/Home.jsx","containers/Home.js","actions/data.js","containers/ThreadList.js","components/ThreadList.jsx","components/CommentCard.jsx","components/CommentForm.jsx","components/Thread.jsx","containers/Thread.js","components/Header.jsx","containers/Header.js","reducers/data.js","index.jsx","store/index.js"],"names":["connect","state","dispatch","goToHome","push","onClick","useStyles","makeStyles","theme","button","marginTop","marginBottom","errorText","color","palette","error","main","ThreadForm","props","classes","React","useState","open","setOpen","title","creator","description","bodyData","setBodyData","valueError","setValueError","status","statusText","postError","setPostError","Button","variant","className","Dialog","onClose","fullWidth","aria-labelledby","DialogTitle","id","DialogContent","DialogContentText","TextField","autoFocus","required","margin","label","helperText","onChange","e","target","value","multiline","rows","DialogActions","axios","post","then","res","window","location","reload","catch","err","response","item","background","border","borderRadius","ThreadCard","ListItem","ListItemText","primary","Typography","secondary","align","date","root","data","threads","getThreadsError","getThreads","type","get","headers","payload","openThread","showThreadList","useEffect","Container","Box","pt","pb","List","slice","reverse","map","threadId","Snackbar","ContentProps","anchorOrigin","vertical","horizontal","SnackbarContent","snackbar","message","action","IconButton","style","borderTop","grid","CommentCard","Grid","container","justify","index","reply","text","CommentForm","disabled","setDisabled","Paper","p","endIcon","ownProps","match","params","contents","getContentsError","getContents","thread","find","v","content","flexGrow","menuButton","marginRight","spacing","backToHome","AppBar","position","Toolbar","edge","aria-label","initialState","isFetching","loginReducer","Object","assign","history","createHashHistory","store","reduxCreateStore","combineReducers","persistReducer","key","storage","storageSession","whitelist","dataReducer","router","routerReducer","applyMiddleware","routerMiddleware","thunk","persistor","persistStore","render","loading","exact","path","component","Root","Header","Home","ThreadList","Thread","document","getElementById"],"mappings":"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","file":"static/js/main.4fd44cfc.chunk.js","sourcesContent":["import { connect } from 'react-redux';\nimport { push } from 'react-router-redux';\nimport Root from '../components/Root';\n\nconst mapStateToProps = (state) => {\n  return {\n  };\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    goToHome() {\n      dispatch(push('/home'));\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Root);\n","import React from 'react';\n\nexport default function Root({ goToHome }) {\n  goToHome();\n  return (\n    <div>\n      <button onClick={() => goToHome()}>Home</button>\n    </div>\n  );\n}\n","import React from 'react';\nimport axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nconst useStyles = makeStyles(theme => ({\n  button: {\n    marginTop: 20,\n    marginBottom: 10\n  },\n  errorText: {\n    marginTop: 20,\n    color: theme.palette.error.main\n  }\n}));\n\nexport default function ThreadForm(props) {\n  const classes = useStyles();\n\n  const [open, setOpen] = React.useState(false);\n  const [bodyData, setBodyData] = React.useState({\n    title: '',\n    creator: '',\n    description: ''\n  });\n  const [valueError, setValueError] = React.useState({\n    title: false,\n    creator: false,\n  });\n  const [postError, setPostError] = React.useState({\n    error: false,\n    status: null,\n    statusText: ''\n  });\n\n  const postData = () => {\n    setValueError({title: !bodyData.title, creator: !bodyData.creator});\n    if (bodyData.title && bodyData.creator) {\n      axios.post(\"/keijiban/threads\", bodyData)\n        .then(res => (res.status == 201) && window.location.reload())\n        .catch(err => setPostError({error: true, status: err.response.status, statusText: err.response.statusText}));\n    } else {\n      setPostError({...postError, error: false});\n    }\n  };\n\n  return (\n    <div>\n      <Button variant='contained' color='primary' className={classes.button} onClick={() => setOpen(true)}>\n        新規\n      </Button>\n      <Dialog open={open} onClose={() => setOpen(false)} fullWidth  aria-labelledby='form-dialog-title'>\n        <DialogTitle id='form-dialog-title'>スレッドの新規作成</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            新たに作成するスレッド名と簡単な説明を入力してください\n          </DialogContentText>\n          <TextField\n            autoFocus\n            required\n            margin='dense'\n            id='name'\n            label='お名前'\n            helperText={valueError.creator && '必ず入力してください'}\n            onChange={e => setBodyData({...bodyData, creator: e.target.value})}\n            error={valueError.creator}\n          />\n          <TextField\n            autoFocus\n            required\n            margin='dense'\n            id='title'\n            label='スレッド名'\n            helperText={valueError.title && '必ず入力してください'}\n            fullWidth\n            onChange={e => setBodyData({...bodyData, title: e.target.value})}\n            error={valueError.title}\n          />\n          <TextField\n            autoFocus\n            margin='dense'\n            id='description'\n            label='スレッドの説明'\n            multiline\n            rows={2}\n            fullWidth\n            onChange={e => setBodyData({...bodyData, description: e.target.value})}\n          />\n          <DialogContentText className={classes.errorText}>\n            {postError.error && `サーバーへの送信に失敗しました ${postError.status} (${postError.statusText})`}\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => postData()} color='primary'>\n            作成\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nconst useStyles = makeStyles(theme => ({\n  item: {\n    background: \"#fafaff\",\n    border: 'solid 1px #e1e1ff',\n    borderRadius: 3,\n    margin: 3\n  }\n}));\n\nexport default function ThreadCard(props) {\n  const classes = useStyles();\n\n  return (\n    <ListItem button className={classes.item} onClick={props.onClick} >\n      <ListItemText\n        primary={\n          <Typography variant=\"h4\">{props.title}</Typography>\n        }\n        secondary={\n          <div>\n            <Typography variant=\"subtitle1\">{props.description}</Typography>\n            <br />\n            <Typography align=\"right\" variant=\"body2\">作成者: {props.creator}</Typography>\n            <Typography align=\"right\" variant=\"body2\">{props.date}</Typography>\n          </div>\n        }\n      />\n    </ListItem>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport Container from '@material-ui/core/Container';\nimport List from '@material-ui/core/List';\nimport Box from '@material-ui/core/Box';\nimport Refresh from '@material-ui/icons/Refresh';\nimport ThreadForm from './ThreadForm';\nimport ThreadCard from \"./ThreadCard\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    background: 'linear-gradient(45deg, #efefff 30%, #efffff 90%)',\n  },\n  item: {\n    background: \"#fafaff\",\n    border: 'solid 1px #e1e1ff',\n    borderRadius: 3,\n    margin: 3\n  },\n  error: {\n    background: 'linear-gradient(45deg, #f44336 30%, #d32f2f 90%)'\n  }\n}));\n\nexport default function UserPage({ threads, error, getThreads, openThread, showThreadList }) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n\n  React.useEffect(() => {\n    getThreads();\n  }, []);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Container>\n        <Box pt={3} pb={2}>\n          <Typography variant=\"h4\">My Board</Typography>\n          <ThreadForm />\n        </Box>\n        <Box pt={2}>\n        <Typography variant=\"h4\">最新スレッド</Typography>\n        <List>\n        {\n          threads.slice(-5).reverse().map((item) => {\n            return (\n              <ThreadCard\n                {...item}\n                onClick={() => openThread(item.threadId)}\n              />\n            );\n          })\n        }\n        </List>\n        <Button variant='contained' color='primary' onClick={() => showThreadList()}>スレッド一覧</Button>\n      </Box>\n      </Container>\n\n      <Snackbar\n        ContentProps={classes.error}\n        anchorOrigin={{vertical: \"top\", horizontal:\"center\"}}\n        open={open && error}\n        onClose={handleClose}\n      >\n        <SnackbarContent\n          className={classes.snackbar}\n          message={\n            <div>\n              <Typography variant=\"h6\">threads</Typography>\n              <Typography variant=\"body1\">{error.status} ({error.statusText})</Typography>\n            </div>\n          }\n          action={\n            <IconButton onClick={() => window.location.reload(true)}>\n              <Refresh />\n            </IconButton>\n          }\n        />\n      </Snackbar>\n    </div>\n  );\n}\n","import { connect } from 'react-redux';\nimport { push } from 'react-router-redux';\nimport { getThreads } from '../actions/data';\nimport Home from '../components/Home';\n\nconst mapStateToProps = ({ data }) => {\n  return {\n    threads: data.threads,\n    error: data.getThreadsError\n  };\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getThreads() {\n      dispatch(getThreads());\n    },\n    openThread(id) {\n      dispatch(push('/home/threads/' + id));\n    },\n    showThreadList() {\n      dispatch(push('/home/threads'));\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","import axios from \"axios\";\nimport { getThreads as gT, getContent as gC } from '../database/database';\n\n\nconst sendRequest = () => {\n  return {\n    type: \"SEND_REQUEST\"\n  };\n};\n\nconst getThreadsSuccess = (json) => {\n  return {\n    type: \"GET_THREADS_SUCCESS\",\n    payload: {\n      threads: json,\n    }\n  };\n};\n\nconst getThreadsFailure = (error) => {\n  return {\n    type: \"GET_THREADS_FAILURE\",\n    payload: {\n      error\n    }\n  };\n};\n\nconst getContentsSuccess = (json) => {\n  return {\n    type: \"GET_CONTENTS_SUCCESS\",\n    payload: {\n      contents: json,\n    }\n  };\n};\n\nconst getContentsFailure = (error) => {\n  return {\n    type: \"GET_CONTENTS_FAILURE\",\n    payload: {\n      error\n    }\n  };\n};\n\nconst postRequestSuccess = () => {\n  return {\n    type: \"POST_REQUEST_SUCCESS\"\n  };\n};\n\nconst postRequestFailure = (error) => {\n  return {\n    type: \"POST_REQUEST_FAILURE\",\n    payload: {\n      error\n    }\n  };\n};\n\n// dummy\n/*\nexport const getThreads = () => {\n  return (dispatch) => {\n    dispatch(sendRequest());\n    dispatch(getThreadsSuccess(gT()));\n  };\n};\nexport const getContents = (id) => {\n  return (dispatch) => {\n    dispatch(sendRequest());\n    dispatch(getContentsSuccess({[id]: gC(id)}));\n  };\n};\n*/\n// use API\nexport const getThreads = () => {\n  return (dispatch) => {\n    dispatch(sendRequest());\n    return axios.get(\"/keijiban/threads\", {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(res => dispatch(getThreadsSuccess(res.data)))\n      .catch(err => dispatch(getThreadsFailure(err.response)));\n  };\n}\n\nexport const getContents = (id) => {\n  return (dispatch) => {\n    dispatch(sendRequest());\n    return axios.get(\"http://540c5374.ngrok.io/keijiban/contents\", { threadId: id })\n      .then(res => dispatch(getContentsSuccess({[id]: res.data})))\n      .catch(err => dispatch(getContentsFailure(err.response)));\n  };\n}\n\nconst postRequest = (url, body) => {\n  return (dispatch) => {\n    dispatch(sendRequest());\n    return axios(url, body)\n      .then(res => dispatch(postRequestSuccess(res.data)))\n      .catch(err => dispatch(postRequestFailure(err)));\n  };\n}\n\n","import { connect } from 'react-redux';\nimport { push } from 'react-router-redux';\nimport ThreadList from '../components/ThreadList';\n\nconst mapStateToProps = ({ data }) => {\n  return {\n    threads: data.threads,\n  };\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    openThread(id) {\n      dispatch(push('/home/threads/' + id));\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ThreadList);\n","import React from 'react';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport List from '@material-ui/core/List';\nimport ThreadCard from \"./ThreadCard\";\n\nexport default function ThreadList({threads, openThread}) {\n  return (\n    <Container style={{background: '#efefff'}}>\n      <Box pt={3} pb={2}>\n        <Typography variant='h4'>スレッド一覧</Typography>\n      </Box>\n      <List>\n      {\n        threads.slice().reverse().map((item) => {\n          return (\n            <ThreadCard\n              title={item.title}\n              description={item.description}\n              creator={item.creator}\n              date={item.date}\n              onClick={() => openThread(item.threadId)}\n            />\n          );\n        })\n      }\n      </List>\n    </Container>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nconst useStyles = makeStyles(theme => ({\n  item: {\n    borderTop: 'solid 1px #e1e1ff',\n  },\n  grid: {\n    color: \"#777766\"\n  }\n}));\n\nexport default function CommentCard(props) {\n  const classes = useStyles();\n\n  return (\n    <ListItem className={classes.item}>\n      <ListItemText\n        primary={\n          <div>\n            <Grid container justify=\"space-between\">\n              <Typography align='left' variant='body2' color=\"textSecondary\">\n                {props.index}. {(props.reply != 0) && `>> ${props.reply}.`}\n              </Typography>\n              <Typography align='right' variant='body2' color=\"textSecondary\">\n                {props.creator} : {props.date}\n              </Typography>\n            </Grid>\n            <Typography variant='body1'>\n              {props.text}\n            </Typography>\n          </div>\n        }\n      />\n    </ListItem>\n  );\n}\n","import React from 'react';\nimport axios from 'axios';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Send from '@material-ui/icons/Send';\nimport TextField from '@material-ui/core/TextField';\n\nexport default function CommentForm(props) {\n  const [disabled, setDisabled] = React.useState(true);\n  const [bodyData, setBodyData] = React.useState({\n    creator: '',\n    text: '',\n    threadId: props.threadId,\n    reply: 0,\n  });\n  const [postError, setPostError] = React.useState({\n    error: false,\n    status: null,\n    statusText: ''\n  });\n\n  React.useEffect(() => {\n    if (bodyData.creator && bodyData.text) {\n      setDisabled(false);\n    } else {\n      setDisabled(true);\n    }\n  }, [bodyData]);\n\n  const postData = () => {\n    if (bodyData.text && bodyData.creator) {\n      axios.post(\"/keijiban/contents\", bodyData)\n        .then(res => (res.status == 201) && window.location.reload())\n        .catch(err => setPostError({error: true, status: err.response.status, statusText: err.response.statusText}));\n    }\n  };\n\n  return (\n    <Paper>\n      <Box p={1}>\n      <TextField\n        required\n        margin='dense'\n        id='name'\n        label='お名前'\n        variant='outlined'\n        onChange={e => setBodyData({...bodyData, creator: e.target.value})}\n      />\n      <TextField\n        required\n        margin='dense'\n        id='comment'\n        label='コメント'\n        multiline\n        rows={3}\n        fullWidth\n        variant='outlined'\n        onChange={e => setBodyData({...bodyData, text: e.target.value})}\n      />\n      <Typography variant='body1' color='error'>\n        {postError.error && `サーバーへの送信に失敗しました ${postError.status} (${postError.statusText})`}\n      </Typography>\n      <Button\n        variant='contained'\n        color='primary'\n        endIcon={<Send />}\n        fullWidth\n        disabled={disabled}\n        onClick={() => postData()}\n      >\n        送信\n      </Button>\n      </Box>\n    </Paper>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport List from '@material-ui/core/List';\nimport IconButton from '@material-ui/core/IconButton';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport Refresh from '@material-ui/icons/Refresh';\nimport CommentCard from './CommentCard';\nimport CommentForm from './CommentForm';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    background: 'linear-gradient(45deg, #efefff 30%, #efffff 90%)',\n  },\n  snackbar: {\n    background: 'linear-gradient(45deg, #f44336 30%, #d32f2f 90%)'\n  },\n  item: {\n    borderTop: 'solid 1px #e1e1ff',\n  },\n  grid: {\n    color: \"#777766\"\n  }\n}));\n\nexport default function Thread({threads, contents, error, threadId, getContents}) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n\n  getContents(threadId);\n\n  React.useEffect(() => {\n    getContents(threadId);\n  });\n\n  const handleClose = () => {\n    setOpen(false);\n  }\n\n  const thread = threads.find(v => v.threadId == threadId);\n  const content = contents[threadId];\n\n  return (\n    <div className={classes.root}>\n      <Container className={classes.root}>\n        <Paper>\n          <Box p={1}>\n            <Typography variant=\"h4\">{thread.title}</Typography>\n            <Typography variant=\"subtitle1\">{thread.description}</Typography>\n            <Typography variant=\"body1\">作成者:{thread.creator}  作成日:{thread.date}</Typography>\n          </Box>\n          <List>\n          {\n            content.map(v => {\n              return (\n                <CommentCard {...v} />\n              );\n            })\n          }\n          </List>\n        </Paper>\n        <Box pt={.5}>\n          <CommentForm threadId={threadId} />\n        </Box>\n      </Container>\n      <Snackbar\n        ContentProps={classes.error}\n        anchorOrigin={{vertical: \"top\", horizontal:\"center\"}}\n        open={open && error}\n        onClose={handleClose}\n      >\n        <SnackbarContent\n          className={classes.snackbar}\n          message={\n            <Typography variant=\"body1\">{error.status} ({error.statusText})</Typography>\n          }\n          action={\n            <IconButton onClick={() => window.location.reload(true)}>\n              <Refresh />\n            </IconButton>\n          }\n        />\n      </Snackbar>\n    </div>\n  );\n}\n","import { connect } from 'react-redux';\nimport Thread from '../components/Thread';\nimport { getContents } from '../actions/data';\n\nconst mapStateToProps = ({data}, ownProps) => {\n  return {\n    threadId: ownProps.match.params.id,\n    threads: data.threads,\n    contents: data.contents,\n    error: data.getContentsError\n  };\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getContents(id) {\n      dispatch(getContents(id));\n    },\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Thread);\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nexport default function Header({backToHome}) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <AppBar color='primary' position='static'>\n        <Toolbar>\n          <IconButton className={classes.menuButton} edge='start' color='inherit' aria-label='menu'>\n            <MenuIcon />\n          </IconButton>\n          <Typography variant='h6' color='inherit' className={classes.title} onClick={backToHome}>\n              掲示板\n          </Typography>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n","import { connect } from 'react-redux';\nimport { push } from 'react-router-redux';\nimport Header from '../components/Header';\n\nconst mapStateToProps = ({}) => {\n  return {\n  };\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    backToHome() {\n      dispatch(push('/home'));\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\n","const initialState = {\n  threads: [],\n  contents: {},\n  isFetching: false,\n  getThreadsError: \"\",\n  getContentsError: \"\"\n};\n\nexport default function loginReducer(state=initialState, action) {\n  switch (action.type) {\n    case 'SEND_REQUEST':\n      return {\n        ...state,\n        isFetching: true,\n        getThreadsError: \"\",\n        getContentsError: \"\"\n      };\n    case 'GET_THREADS_SUCCESS':\n      return {\n        ...state,\n        threads: action.payload.threads,\n        isFetching: false\n      };\n    case 'GET_THREADS_FAILURE':\n      return {\n        ...state, isFetching: false,\n        getThreadsError: action.payload.error,\n      };\n    case 'GET_CONTENTS_SUCCESS':\n      return {\n        ...state,\n        isFetching: false,\n        contents: Object.assign(state.contents, action.payload.contents)\n      };\n    case 'GET_CONTENTS_FAILURE':\n      return {\n        ...state,\n        isFetching: false,\n        getContentsError: action.payload.error\n      };\n    default:\n      return state;\n  }\n}\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { render } from 'react-dom';\nimport { Route } from 'react-router-dom';\nimport { ConnectedRouter } from 'react-router-redux';\nimport { persistStore } from 'redux-persist';\nimport { PersistGate } from 'redux-persist/es/integration/react';\nimport createHashHistory from 'history/createHashHistory';\nimport Root from './containers/Root';\nimport Home from './containers/Home';\nimport ThreadList from './containers/ThreadList';\nimport Thread from './containers/Thread';\nimport Header from './containers/Header';\nimport createStore from './store';\n\n// History\nconst history = createHashHistory();\n\n// Store\nconst store = createStore(history);\nconst persistor = persistStore(store);\n\n// React\nrender(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <ConnectedRouter history={history}>\n        <div>\n          <Route exact path='/react-bulletin-board' component={Root} />\n          <Route path='/home' component={Header} />\n          <Route exact path='/home' component={Home} />\n          <Route exact path='/home/threads' component={ThreadList} />\n          <Route path='/home/threads/:id' component={Thread} />\n        </div>\n      </ConnectedRouter>\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root')\n);\n","import {\n  createStore as reduxCreateStore,\n  combineReducers,\n  applyMiddleware\n} from 'redux';\nimport { routerReducer, routerMiddleware } from 'react-router-redux';\nimport { persistReducer } from 'redux-persist';\nimport storageSession from 'redux-persist/lib/storage/session';\nimport thunk from 'redux-thunk';\nimport dataReducer from '../reducers/data';\n\nexport default function createStore(history) {\n  return reduxCreateStore(\n    combineReducers({\n      data: persistReducer({key: 'data', storage: storageSession, whitelist: ['threads']}, dataReducer),\n      router: routerReducer\n    }),\n    applyMiddleware(\n      routerMiddleware(history),\n      thunk\n    )\n  );\n}\n"],"sourceRoot":""}
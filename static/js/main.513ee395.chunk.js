(this["webpackJsonpreact-template"]=this["webpackJsonpreact-template"]||[]).push([[0],{113:function(e,t,a){e.exports=a(146)},146:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(19),c=a(9),i=a(43),l=a(15),d=a(59),s=a(93),u=a(52),m=a.n(u);var h=Object(o.b)((function(e){return{}}),(function(e){return{goToHome:function(){e(Object(l.b)("/home"))}}}))((function(e){var t=e.goToHome;return t(),n.a.createElement("div",null,n.a.createElement("button",{onClick:function(){return t()}},"Home"))})),f=a(54),E=a(39),b=a.n(E),p=function(){return function(e){e({type:"SEND_REQUEST"}),e({type:"GET_THREADS_SUCCESS",payload:{threads:a(63).threads}})}},g=function(e){return function(t){t({type:"SEND_REQUEST"}),t({type:"GET_CONTENTS_SUCCESS",payload:{contents:Object(f.a)({},e,function(e){return a(63).contents[e]}(e))}})}},v=a(18),x=a(179),O=a(35),T=a(182),y=a(194),j=a(202),C=a(193),I=a(192),S=a(188),k=a(199),N=a(58),w=a.n(N),_=a(16),F=a(198),R=a(201),U=a(189),G=a(185),H=a(186),D=a(184),A=Object(x.a)((function(e){return{button:{marginTop:20,marginBottom:10},errorText:{marginTop:20,color:e.palette.error.main}}}));function B(e){var t=A(),a=n.a.useState(!1),r=Object(v.a)(a,2),o=r[0],c=r[1],i=n.a.useState({title:"",creator:"",description:""}),l=Object(v.a)(i,2),d=l[0],s=l[1],u=n.a.useState({title:!1,creator:!1}),m=Object(v.a)(u,2),h=m[0],f=m[1],E=n.a.useState({error:!1,status:null,statusText:""}),p=Object(v.a)(E,2),g=p[0],x=p[1];return n.a.createElement("div",null,n.a.createElement(T.a,{variant:"contained",color:"primary",className:t.button,onClick:function(){return c(!0)}},"\u65b0\u898f"),n.a.createElement(R.a,{open:o,onClose:function(){return c(!1)},fullWidth:!0,"aria-labelledby":"form-dialog-title"},n.a.createElement(D.a,{id:"form-dialog-title"},"\u30b9\u30ec\u30c3\u30c9\u306e\u65b0\u898f\u4f5c\u6210"),n.a.createElement(G.a,null,n.a.createElement(H.a,null,"\u65b0\u305f\u306b\u4f5c\u6210\u3059\u308b\u30b9\u30ec\u30c3\u30c9\u540d\u3068\u7c21\u5358\u306a\u8aac\u660e\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),n.a.createElement(F.a,{autoFocus:!0,required:!0,margin:"dense",id:"name",label:"\u304a\u540d\u524d",helperText:h.creator&&"\u5fc5\u305a\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",onChange:function(e){return s(Object(_.a)({},d,{creator:e.target.value}))},error:h.creator}),n.a.createElement(F.a,{autoFocus:!0,required:!0,margin:"dense",id:"title",label:"\u30b9\u30ec\u30c3\u30c9\u540d",helperText:h.title&&"\u5fc5\u305a\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",fullWidth:!0,onChange:function(e){return s(Object(_.a)({},d,{title:e.target.value}))},error:h.title}),n.a.createElement(F.a,{autoFocus:!0,margin:"dense",id:"description",label:"\u30b9\u30ec\u30c3\u30c9\u306e\u8aac\u660e",multiline:!0,rows:2,fullWidth:!0,onChange:function(e){return s(Object(_.a)({},d,{description:e.target.value}))}}),n.a.createElement(H.a,{className:t.errorText},g.error&&"\u30b5\u30fc\u30d0\u30fc\u3078\u306e\u9001\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f ".concat(g.status," (").concat(g.statusText,")"))),n.a.createElement(U.a,null,n.a.createElement(T.a,{onClick:function(){return f({title:!d.title,creator:!d.creator}),void(d.title&&d.creator?b.a.post("/keijiban/threads",d).then((function(e){return 201==e.status&&window.location.reload()})).catch((function(e){return x({error:!0,status:e.response.status,statusText:e.response.statusText})})):x(Object(_.a)({},g,{error:!1})))},color:"primary"},"\u4f5c\u6210"))))}var W=a(190),q=a(191),L=Object(x.a)((function(e){return{item:{background:"#fafaff",border:"solid 1px #e1e1ff",borderRadius:3,margin:3}}}));function J(e){var t=L();return n.a.createElement(W.a,{button:!0,className:t.item,onClick:e.onClick},n.a.createElement(q.a,{primary:n.a.createElement(O.a,{variant:"h4"},e.title),secondary:n.a.createElement("div",null,n.a.createElement(O.a,{variant:"subtitle1"},e.description),n.a.createElement("br",null),n.a.createElement(O.a,{align:"right",variant:"body2"},"\u4f5c\u6210\u8005: ",e.creator),n.a.createElement(O.a,{align:"right",variant:"body2"},e.date))}))}var Q=Object(x.a)((function(e){return{root:{background:"linear-gradient(45deg, #efefff 30%, #efffff 90%)"},item:{background:"#fafaff",border:"solid 1px #e1e1ff",borderRadius:3,margin:3},error:{background:"linear-gradient(45deg, #f44336 30%, #d32f2f 90%)"}}}));var z=Object(o.b)((function(e){var t=e.data;return{threads:t.threads,error:t.getThreadsError}}),(function(e){return{getThreads:function(){e(p())},openThread:function(t){e(Object(l.b)("/home/threads/"+t))},showThreadList:function(){e(Object(l.b)("/home/threads"))}}}))((function(e){var t=e.threads,a=e.error,r=e.getThreads,o=e.openThread,c=e.showThreadList,i=Q(),l=n.a.useState(!0),d=Object(v.a)(l,2),s=d[0],u=d[1];return n.a.useEffect((function(){r()}),[]),n.a.createElement("div",{className:i.root},n.a.createElement(I.a,null,n.a.createElement(k.a,{pt:3,pb:2},n.a.createElement(O.a,{variant:"h4"},"My Board"),n.a.createElement(B,null)),n.a.createElement(k.a,{pt:2},n.a.createElement(O.a,{variant:"h4"},"\u6700\u65b0\u30b9\u30ec\u30c3\u30c9"),n.a.createElement(S.a,null,t.slice(-5).reverse().map((function(e){return n.a.createElement(J,Object.assign({},e,{onClick:function(){return o(e.threadId)}}))}))),n.a.createElement(T.a,{variant:"contained",color:"primary",onClick:function(){return c()}},"\u30b9\u30ec\u30c3\u30c9\u4e00\u89a7"))),n.a.createElement(j.a,{ContentProps:i.error,anchorOrigin:{vertical:"top",horizontal:"center"},open:s&&a,onClose:function(){u(!1)}},n.a.createElement(C.a,{className:i.snackbar,message:n.a.createElement("div",null,n.a.createElement(O.a,{variant:"h6"},"threads"),n.a.createElement(O.a,{variant:"body1"},a.status," (",a.statusText,")")),action:n.a.createElement(y.a,{onClick:function(){return window.location.reload(!0)}},n.a.createElement(w.a,null))})))}));var P=Object(o.b)((function(e){return{threads:e.data.threads}}),(function(e){return{openThread:function(t){e(Object(l.b)("/home/threads/"+t))}}}))((function(e){var t=e.threads,a=e.openThread;return n.a.createElement(I.a,{style:{background:"#efefff"}},n.a.createElement(k.a,{pt:3,pb:2},n.a.createElement(O.a,{variant:"h4"},"\u30b9\u30ec\u30c3\u30c9\u4e00\u89a7")),n.a.createElement(S.a,null,t.slice().reverse().map((function(e){return n.a.createElement(J,{title:e.title,description:e.description,creator:e.creator,date:e.date,onClick:function(){return a(e.threadId)}})}))))})),M=a(99),K=a(195),V=Object(x.a)((function(e){return{item:{borderTop:"solid 1px #e1e1ff"},grid:{color:"#777766"}}}));function X(e){var t=V();return n.a.createElement(W.a,{className:t.item},n.a.createElement(q.a,{primary:n.a.createElement("div",null,n.a.createElement(K.a,{container:!0,justify:"space-between"},n.a.createElement(O.a,{align:"left",variant:"body2",color:"textSecondary"},e.index,". ",0!=e.reply&&">> ".concat(e.reply,".")),n.a.createElement(O.a,{align:"right",variant:"body2",color:"textSecondary"},e.creator," : ",e.date)),n.a.createElement(O.a,{variant:"body1"},e.text))}))}var Y=a(94),Z=a.n(Y);function $(e){var t=n.a.useState(!0),a=Object(v.a)(t,2),r=a[0],o=a[1],c=n.a.useState({creator:"",text:"",threadId:e.threadId,reply:0}),i=Object(v.a)(c,2),l=i[0],d=i[1],s=n.a.useState({error:!1,status:null,statusText:""}),u=Object(v.a)(s,2),m=u[0],h=u[1];n.a.useEffect((function(){l.creator&&l.text?o(!1):o(!0)}),[l]);return n.a.createElement(M.a,null,n.a.createElement(k.a,{p:1},n.a.createElement(F.a,{required:!0,margin:"dense",id:"name",label:"\u304a\u540d\u524d",variant:"outlined",onChange:function(e){return d(Object(_.a)({},l,{creator:e.target.value}))}}),n.a.createElement(F.a,{required:!0,margin:"dense",id:"comment",label:"\u30b3\u30e1\u30f3\u30c8",multiline:!0,rows:3,fullWidth:!0,variant:"outlined",onChange:function(e){return d(Object(_.a)({},l,{text:e.target.value}))}}),n.a.createElement(O.a,{variant:"body1",color:"error"},m.error&&"\u30b5\u30fc\u30d0\u30fc\u3078\u306e\u9001\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f ".concat(m.status," (").concat(m.statusText,")")),n.a.createElement(T.a,{variant:"contained",color:"primary",endIcon:n.a.createElement(Z.a,null),fullWidth:!0,disabled:r,onClick:function(){l.text&&l.creator&&b.a.post("/keijiban/contents",l).then((function(e){return 201==e.status&&window.location.reload()})).catch((function(e){return h({error:!0,status:e.response.status,statusText:e.response.statusText})}))}},"\u9001\u4fe1")))}var ee=Object(x.a)((function(e){return{root:{background:"linear-gradient(45deg, #efefff 30%, #efffff 90%)"},snackbar:{background:"linear-gradient(45deg, #f44336 30%, #d32f2f 90%)"},item:{borderTop:"solid 1px #e1e1ff"},grid:{color:"#777766"}}}));var te=Object(o.b)((function(e,t){var a=e.data;return{threadId:t.match.params.id,threads:a.threads,contents:a.contents,error:a.getContentsError}}),(function(e){return{getContents:function(t){e(g(t))}}}))((function(e){var t=e.threads,a=e.contents,r=e.error,o=e.threadId,c=e.getContents,i=ee(),l=n.a.useState(!0),d=Object(v.a)(l,2),s=d[0],u=d[1];c(o),n.a.useEffect((function(){c(o)}));var m=t.find((function(e){return e.threadId==o})),h=a[o];return n.a.createElement("div",{className:i.root},n.a.createElement(I.a,{className:i.root},n.a.createElement(M.a,null,n.a.createElement(k.a,{p:1},n.a.createElement(O.a,{variant:"h4"},m.title),n.a.createElement(O.a,{variant:"subtitle1"},m.description),n.a.createElement(O.a,{variant:"body1"},"\u4f5c\u6210\u8005:",m.creator,"  \u4f5c\u6210\u65e5:",m.date)),n.a.createElement(S.a,null,h.map((function(e){return n.a.createElement(X,e)})))),n.a.createElement(k.a,{pt:.5},n.a.createElement($,{threadId:o}))),n.a.createElement(j.a,{ContentProps:i.error,anchorOrigin:{vertical:"top",horizontal:"center"},open:s&&r,onClose:function(){u(!1)}},n.a.createElement(C.a,{className:i.snackbar,message:n.a.createElement(O.a,{variant:"body1"},r.status," (",r.statusText,")"),action:n.a.createElement(y.a,{onClick:function(){return window.location.reload(!0)}},n.a.createElement(w.a,null))})))})),ae=a(95),re=a(196),ne=a(197),oe=a(96),ce=a.n(oe),ie=Object(x.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));var le=Object(o.b)((function(e){return Object(ae.a)(e),{}}),(function(e){return{backToHome:function(){e(Object(l.b)("/home"))}}}))((function(e){var t=e.backToHome,a=ie();return n.a.createElement("div",{className:a.root},n.a.createElement(re.a,{color:"primary",position:"static"},n.a.createElement(ne.a,null,n.a.createElement(y.a,{className:a.menuButton,edge:"start",color:"inherit","aria-label":"menu"},n.a.createElement(ce.a,null)),n.a.createElement(O.a,{variant:"h6",color:"inherit",className:a.title,onClick:t},"\u63b2\u793a\u677f"))))})),de=a(24),se=a(97),ue=a.n(se),me=a(98),he={threads:[],contents:{},isFetching:!1,getThreadsError:"",getContentsError:""};function fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_REQUEST":return Object(_.a)({},e,{isFetching:!0,getThreadsError:"",getContentsError:""});case"GET_THREADS_SUCCESS":return Object(_.a)({},e,{threads:t.payload.threads,isFetching:!1});case"GET_THREADS_FAILURE":return Object(_.a)({},e,{isFetching:!1,getThreadsError:t.payload.error});case"GET_CONTENTS_SUCCESS":return Object(_.a)({},e,{isFetching:!1,contents:Object.assign(e.contents,t.payload.contents)});case"GET_CONTENTS_FAILURE":return Object(_.a)({},e,{isFetching:!1,getContentsError:t.payload.error});default:return e}}var Ee,be=m()(),pe=(Ee=be,Object(de.d)(Object(de.c)({data:Object(d.a)({key:"data",storage:ue.a,whitelist:["threads"]},fe),router:l.d}),Object(de.a)(Object(l.c)(Ee),me.a))),ge=Object(d.b)(pe);Object(c.render)(n.a.createElement(o.a,{store:pe},n.a.createElement(s.a,{loading:null,persistor:ge},n.a.createElement(l.a,{history:be,basename:"/react-bulletin-board"},n.a.createElement("div",null,n.a.createElement(i.a,{exact:!0,path:"/react-bulletin-board",component:h}),n.a.createElement(i.a,{path:"/home",component:le}),n.a.createElement(i.a,{exact:!0,path:"/home",component:z}),n.a.createElement(i.a,{exact:!0,path:"/home/threads",component:P}),n.a.createElement(i.a,{path:"/home/threads/:id",component:te}))))),document.getElementById("root"))},63:function(e){e.exports=JSON.parse('{"threads":[{"threadId":1,"title":"first","description":"This is first thread","creator":"88IO","date":"2019-10-13 12:13:30"},{"threadId":2,"title":"second","description":"This is second thread","creator":"88IO","date":"2019-10-13 12:13:30"},{"threadId":3,"title":"third","description":"This is third thread","creator":"88IO","date":"2019-10-13 12:13:30"},{"threadId":4,"title":"fourth","description":"This is fourth thread","creator":"88IO","date":"2019-10-13 12:13:30"},{"threadId":5,"title":"fifth","description":"This is fifth thread","creator":"88IO","date":"2019-10-13 12:13:30"},{"threadId":6,"title":"sixth","description":"This is sixth thread","creator":"88IO","date":"2019-10-13 12:13:30"}],"contents":{"1":[{"text":"test1","date":"2019-10-25 12:13:30","creator":"hoge","threadId":1,"reply":0,"index":1},{"text":"test1","date":"2019-10-25 12:13:30","creator":"hoge","threadId":1,"reply":1,"index":2}],"2":[{"text":"test1","date":"2019-10-25 12:13:30","creator":"hoge","threadId":1,"reply":0,"index":1},{"text":"test1","date":"2019-10-25 12:13:30","creator":"hoge","threadId":1,"reply":1,"index":2}],"3":[{"text":"test1","date":"2019-10-25 12:13:30","creator":"hoge","threadId":1,"reply":0,"index":1},{"text":"test1","date":"2019-10-25 12:13:30","creator":"hoge","threadId":1,"reply":0,"index":2}],"4":[{"text":"test1","date":"2019-10-25 12:13:30","creator":"hoge","threadId":1,"reply":0,"index":1},{"text":"test1","date":"2019-10-25 12:13:30","creator":"hoge","threadId":1,"reply":0,"index":2}],"5":[{"text":"test1","date":"2019-10-25 12:13:30","creator":"hoge","threadId":1,"reply":0,"index":1},{"text":"test1","date":"2019-10-25 12:13:30","creator":"hoge","threadId":1,"reply":0,"index":2}],"6":[{"text":"test1","date":"2019-10-25 12:13:30","creator":"hoge","threadId":1,"reply":0,"index":1},{"text":"test1","date":"2019-10-25 12:13:30","creator":"hoge","threadId":1,"reply":0,"index":2}]}}')}},[[113,1,2]]]);
//# sourceMappingURL=main.513ee395.chunk.js.map